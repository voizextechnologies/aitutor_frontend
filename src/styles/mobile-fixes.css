/* Mobile UI Fixes - Addressing feedback from spreadsheet */

/* Fix 1: Parent icon too close to edge */
.parent-icon-container,
[class*="parent-icon"],
.control-tray .parent-icon {
    padding-right: 12px !important;
    /* was 2px */
    margin-right: 8px;
}

/* Fix 2: Better mobile spacing for control elements */
@media (max-width: 768px) {

    /* Ensure proper spacing on mobile */
    .floating-control-panel {
        padding: 12px;
        margin: 8px;
    }

    /* Icon containers need more breathing room */
    .icon-container {
        padding: 8px 12px;
        margin: 4px;
    }

    /* Control tray adjustments */
    .control-tray {
        padding: 8px 12px;
        gap: 12px;
    }

    /* Question panel should not overlap controls */
    .question-panel {
        padding-bottom: 80px;
        /* Space for floating controls */
    }

    /* Scratchpad controls positioning */
    .scratchpad-controls {
        right: 12px;
        /* was too close to edge */
        top: 12px;
    }
}

/* Fix 3: Touch targets should be larger on mobile */
@media (max-width: 768px) and (hover: none) {

    /* Increase touch target size */
    button,
    .clickable,
    [role="button"] {
        min-height: 44px;
        /* iOS recommended minimum */
        min-width: 44px;
    }

    /* Icon buttons */
    button[size="icon"],
    .icon-button {
        min-height: 48px;
        min-width: 48px;
        padding: 12px;
    }
}

/* Fix 4: Prevent text selection on mobile for better UX */
@media (max-width: 768px) {

    .control-panel,
    .floating-control-panel,
    .control-tray {
        -webkit-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
    }
}

/* Fix 5: Better mobile layout for question display */
@media (max-width: 768px) {

    /* Stack elements vertically on mobile */
    .question-display-container {
        flex-direction: column;
    }

    /* Full width on mobile */
    .question-content,
    .answer-area {
        width: 100%;
        max-width: 100%;
    }

    /* Reduce padding on mobile to maximize space */
    .question-panel {
        padding: 12px;
    }
}

/* Fix 6: Mobile-specific MCQ improvements */
@media (max-width: 768px) {

    /* Ensure MCQ options are easily tappable */
    :global(.framework-perseus) .choice {
        min-height: 56px;
        /* Larger touch target */
        padding: 16px 12px;
        margin-bottom: 8px;
    }

    /* Larger text on mobile for readability */
    :global(.framework-perseus) .choice {
        font-size: 16px;
        /* Prevent zoom on iOS */
        line-height: 1.5;
    }
}

/* Fix 7: Landscape mode optimizations */
@media (max-width: 768px) and (orientation: landscape) {

    /* Use horizontal space better in landscape */
    .question-panel {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
    }

    /* Controls can be smaller in landscape */
    .floating-control-panel {
        scale: 0.9;
    }
}

/* Fix 8: Safe area insets for notched devices */
@supports (padding: max(0px)) {
    .app-container {
        padding-left: max(12px, env(safe-area-inset-left));
        padding-right: max(12px, env(safe-area-inset-right));
        padding-top: max(12px, env(safe-area-inset-top));
        padding-bottom: max(12px, env(safe-area-inset-bottom));
    }
}